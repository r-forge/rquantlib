
R version 2.6.1 (2007-11-26)
Copyright (C) 2007 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> 
> stopifnot(require(RQuantLib))
Loading required package: RQuantLib
> 
> ## values from Quantlib's test-suite
> ## Reference: Haug, Option Pricing Formulas, McGraw-Hill, 1998
> ##
> ## and generally sourced from the code in the test-suite/
> ## directory of the QuantLib distribution
> 
> ## europeanoption.cpp:  call value == 2.1334
> print(EuropeanOption("call", underlying=60, strike=65, div=0, riskFree=0.08,
+                      maturity=0.25, vol=0.3), digits=5)
Concise summary of valuation for EuropeanOption 
   value    delta    gamma     vega    theta      rho   divRho 
 2.13337  0.37248  0.04204 11.35154 -8.42817  5.05390 -5.58724 
> ## europeanoption.cpp:  put value == 2.4648
> print(EuropeanOption("put", underlying=100, strike=95, div=0.05, riskFree=0.1,
+                      maturity=0.5, vol=0.2), digits=5)
Concise summary of valuation for EuropeanOption 
    value     delta     gamma      vega     theta       rho    divRho 
  2.46479  -0.26418   0.02284  22.83957  -3.00053 -14.44147  13.20908 
> 
> ## europeanoption.cpp:  call delta == 0.5946
> print(EuropeanOption("call", underlying=105, strike=100,div=0.1,riskFree=0.1,
+                      maturity=0.5, vol=0.36), digits=4)
Concise summary of valuation for EuropeanOption 
   value    delta    gamma     vega    theta      rho   divRho 
 12.4328   0.5946   0.0135  26.7781  -8.3968  25.0016 -31.2180 
> ## europeanoption.cpp:  put delta == -0.3566
> print(EuropeanOption("put", underlying=105, strike=100,div=0.1,riskFree=0.1,
+                      maturity=0.5, vol=0.36), digits=4)
Concise summary of valuation for EuropeanOption 
   value    delta    gamma     vega    theta      rho   divRho 
  7.6767  -0.3566   0.0135  26.7781  -8.8725 -22.5599  18.7215 
> 
> ## europeanoption.cpp:  call gamma == 0.0278
> print(EuropeanOption("call", underlying=55, strike=60,div=0.0,riskFree=0.1,
+                      maturity=0.75, vol=0.30), digits=4)
Concise summary of valuation for EuropeanOption 
   value    delta    gamma     vega    theta      rho   divRho 
  5.3928   0.5333   0.0278  18.9358  -6.1813  17.9557 -22.0003 
> ## europeanoption.cpp:  put gamma == 0.0278
> print(EuropeanOption("put", underlying=55, strike=60,div=0.0,riskFree=0.1,
+                      maturity=0.75, vol=0.30), digits=4)
Concise summary of valuation for EuropeanOption 
   value    delta    gamma     vega    theta      rho   divRho 
  6.0574  -0.4667   0.0278  18.9358  -0.6148 -23.7927  19.2497 
> 
> ## europeanoption.cpp:  call vega == 18.9358
> print(EuropeanOption("call", underlying=55, strike=60,div=0.0,riskFree=0.1,
+                      maturity=0.75, vol=0.30), digits=4)
Concise summary of valuation for EuropeanOption 
   value    delta    gamma     vega    theta      rho   divRho 
  5.3928   0.5333   0.0278  18.9358  -6.1813  17.9557 -22.0003 
> ## europeanoption.cpp:  put vega == 18.9358
> print(EuropeanOption("put", underlying=55, strike=60,div=0.0,riskFree=0.1,
+                      maturity=0.75, vol=0.30), digits=4)
Concise summary of valuation for EuropeanOption 
   value    delta    gamma     vega    theta      rho   divRho 
  6.0574  -0.4667   0.0278  18.9358  -0.6148 -23.7927  19.2497 
> 
> 
> ## americanoption.cpp:  call value == 10.0089 -- we show 10.00606
> print(AmericanOption("call", underlying=110, strike=100, div=0.1, riskFree=0.1,
+                      maturity=0.1, vol=0.15), digits=5)
Concise summary of valuation for AmericanOption 
   value    delta    gamma     vega    theta      rho   divRho 
10.00606       NA       NA       NA       NA       NA       NA 
> ## americanoption.cpp:  put value == 0.3159
> print(AmericanOption("call", underlying=90, strike=100, div=0.1, riskFree=0.1,
+                      maturity=0.1, vol=0.25), digits=5)
Concise summary of valuation for AmericanOption 
 value  delta  gamma   vega  theta    rho divRho 
0.3159     NA     NA     NA     NA     NA     NA 
> 
> 
> ## barrier: down and out call == 9.0246
> print(BarrierOption("downout", barrier=95, rebate=3, type="call",
+                     strike=90, underlying=100, div=0.04, riskF=0.08,
+                     mat=0.5, vol=0.25), digits=4)
Concise summary of valuation for BarrierOption 
 value  delta  gamma   vega  theta    rho divRho 
9.0246    NaN    NaN    NaN    NaN    NaN    NaN 
> ## barrier: down and in call == 7.7627
> print(BarrierOption("downin", barrier=95, rebate=3, type="call",
+                     strike=90, underlying=100, div=0.04, riskF=0.08,
+                     mat=0.5, vol=0.25), digits=4)
Concise summary of valuation for BarrierOption 
 value  delta  gamma   vega  theta    rho divRho 
7.7627    NaN    NaN    NaN    NaN    NaN    NaN 
> 
> 
> ## binary aka digital: put == 2.6710
> print(BinaryOption(binType="cash", type="put", excType="european",
+                    strike=80, underl=100, div=0.06, r=0.06,
+                    mat=0.75, vol=0.35, cash=10), digits=4)
Concise summary of valuation for BinaryOption 
  value   delta   gamma    vega   theta     rho  divRho 
 2.6710 -0.1061  0.0031  8.1539 -1.7423 -9.9577  7.9545 
> 
> 
